{
  "comments": [
    {
      "id": 630322,
      "author": "gtg",
      "permlink": "heavy-duty-witness-node-infrastructure",
      "category": "witness-category",
      "parent_author": "",
      "parent_permlink": "witness-category",
      "title": "Heavy duty witness node infrastructure",
      "body": "As you know, witness nodes are an essential part of the STEEM universe.\n\nIf I have a witness node with as much as (or as little as) 3% of witness approval, I can choose the right time to shut it down, listen to my favourite music album, walk my cat, and then start it up again, most probably without missing a block.\nA full-time witness, or one of the top19 witnesses, needs to produce blocks 1600 times more frequently.\nMaintaining such a server in the long run is not an easy task.\n\nWitnesses are vulnerable to DDoS attacks. An attacker who knows the network location of your witness node can saturate your uplink to a level that makes you unable to produce blocks on time. Effectively, this means **voting the witness out using a network-level attack**. Finding the IP address of your witness node is easier than you might think. Even if you follow the guidelines for setting up your public seed node on a different machine than the one you used to get your witness running, your witness still needs to connect to other nodes in the network.\nSo what does this mean? Take a look at: http://seeds.quisquis.de/steem.html\n(service provided by cyrano.witness)\n\nDoes any of these IP addresses look familiar?\nThe attacker still doesn't know which of them is yours, right?\n\nAn attack that makes the target IP unavailable for 3 seconds? Not exactly a difficult thing to do, right? So the attacker needs to make a guess by choosing from a set of suspected IP addresses he has obtained. Guessing doesn't cost him much. Neither does a high volume, short period DDoS attack. After that, he can see that your `total_missed` count increases, and he knows he guessed correctly. And then you are out.\n\n![witness](https://grey.house/img/witness2.jpg)\n\n## A concept of infrastructure: ##\n\n2 witness nodes (primary and backup)\n4 dedicated seed nodes\n\nOne witness node has your current signing key and does its job. The other is for failover, backup purposes. For example, whenever you need to upgrade your witness binary, you do that on the backup witness node, then change your signing key, so the backup node and the primary node switch their roles.  \n**(Never leave your current signing key on two nodes at the same time!)**\n\nThese 4 seed nodes mentioned here only work on behalf of your witness i.e. they don’t provide seed service on public network interfaces. \n_Your public seed node is not within the scope of this document._\n\nYour witness node connects **ONLY** to your seed nodes using VLAN or another private, low latency network solution of your choice. All other incoming/outgoing connections should be blocked except for the secure shell, preferably limited to access only from your IPs.\n\nEach seed node should be in a separate datacenter, ideally in a different part of the world, never in the same location as any of your (primary/backup) witness nodes. The purpose is to minimize the effects of a successful DDoS attack.\n\n_Please note that setting up all seed nodes in a single data center won’t help. A DDoS attack targeted at that particular network will bring all your nodes down anyway._\n\n```\n                      +---+\n         +  +----+    |   |\n         |  |    |<-->| B |\n         +--+ S1 |<-->| i |\n         |  |    |<-->| g |\n         |  +----+    |   |\n+------+ |            | B |\n|      +-+  +----+    | a |\n| W(p) | |  |    |<-->| d |\n|      | +--+ S2 |<-->|   |\n+------+ |  |    |<-->| U |\n         |  +----+    | g |\n     VLAN|            | l |\n         |  +----+    | y |\n+------+ |  |    |<-->|   |\n|      | +--+ S3 |<-->| I |\n| W(b) | |  |    |<-->| n |\n|      +-+  +----+    | t |\n+------+ |            | e |\n         |  +----+    | r |\n         |  |    |<-->| n |\n         +--+ S4 |<-->| e |\n         |  |    |<-->| t |\n         +  +----+    |   |\n                      +---+\n```\n```\nW(p) - primary witness\nW(b) - backup witness\nS1-4 - seed nodes\n```\nOf course, you need to keep your seed nodes (at least one of them) running all the time, otherwise your witness will not be able to sync the blockchain.\nBut if you do the math, you will see that the odds that all your seed nodes stop working at the same time are much lower than the chances that this happens to your witness node. \n\n\nIf one of your seed nodes falls victim to a DDoS attack, you can, depending on the features offered by your infrastructure provider:\n- do nothing (until most of them are targeted at the same time)\n- change its external interface IP address, routing the old one to a black hole\n- set up a new, additional, temporary seed node somewhere else\n- replace that seed node with a new one in another location\n\nIf you believe this idea is of use and value to Steem, please vote for me as a [witness](https://steemit.com/witness-category/@gtg/witness-gtg \"witness-gtg\")\neither on [Steemit's Witnesses List](https://steemit.com/~witnesses \"Witnesses\") \nor by using your `cli_wallet` command:\n`vote_for_witness \"YOURACCOUNT\" \"gtg\" true true`",
      "json_metadata": "{\"tags\":[\"witness-category\",\"security\",\"steem\",\"steemit\"],\"links\":[\"https://steemit.com/witness-category/@gtg/witness-gtg\"]}",
      "last_update": "2016-08-16T18:11:03",
      "created": "2016-08-16T18:11:03",
      "active": "2016-08-18T03:32:12",
      "last_payout": "2016-08-17T20:13:00",
      "depth": 0,
      "children": 14,
      "net_rshares": "920389243926",
      "abs_rshares": "920389243926",
      "vote_rshares": "920389243926",
      "children_abs_rshares": "1000824866058",
      "cashout_time": "2016-09-16T20:13:00",
      "max_cashout_time": "2016-08-31T20:14:30",
      "total_vote_weight": 0,
      "reward_weight": 10000,
      "total_payout_value": {
        "amount": "745053",
        "precision": 3,
        "nai": "@@000000013"
      },
      "curator_payout_value": {
        "amount": "243149",
        "precision": 3,
        "nai": "@@000000013"
      },
      "author_rewards": 501045,
      "net_votes": 177,
      "root_author": "gtg",
      "root_permlink": "heavy-duty-witness-node-infrastructure",
      "max_accepted_payout": {
        "amount": "1000000000",
        "precision": 3,
        "nai": "@@000000013"
      },
      "percent_steem_dollars": 10000,
      "allow_replies": true,
      "allow_votes": true,
      "allow_curation_rewards": true,
      "beneficiaries": []
    },
    {
      "id": 36906,
      "author": "gtg",
      "permlink": "hello-world",
      "category": "introduceyourself",
      "parent_author": "",
      "parent_permlink": "introduceyourself",
      "title": "Hello, World!",
      "body": "I'm Gandalf.\nThat's not my real name, but even my mom saved my number as ***Gandalf*** in her phone contact list.\nThat counts, right?\nI'm an IT Wizard, system admin, happily married, <strike>owner of a cat</strike>.\nOwned by a cat.\n\n![Nyunya](https://grey.house/img/niunia.jpg)\n\n**Nyunya** *(The Cat)* wants to watch everything I do, that's just her way of lending a helping paw. I’m not sure if she is so fascinated by what I do or she wants to make sure I do it right.\n\nWhy am I here? What is my motivation?\nNot much different from that guiding my cat:\nCuriosity and to be a witness (node?) of what is emerging here.\n\nMay the STEEM be with you!",
      "json_metadata": "{\"tags\":[\"introduceyourself\",\"cats\"],\"image\":[\"https://grey.house/img/niunia.jpg\"]}",
      "last_update": "2016-07-10T12:39:42",
      "created": "2016-07-03T16:35:03",
      "active": "2016-07-10T12:39:42",
      "last_payout": "2016-08-13T21:04:45",
      "depth": 0,
      "children": 3,
      "net_rshares": 0,
      "abs_rshares": 0,
      "vote_rshares": 0,
      "children_abs_rshares": 0,
      "cashout_time": "1969-12-31T23:59:59",
      "max_cashout_time": "1969-12-31T23:59:59",
      "total_vote_weight": 0,
      "reward_weight": 10000,
      "total_payout_value": {
        "amount": "254288",
        "precision": 3,
        "nai": "@@000000013"
      },
      "curator_payout_value": {
        "amount": "16244",
        "precision": 3,
        "nai": "@@000000013"
      },
      "author_rewards": 1135218,
      "net_votes": 44,
      "root_author": "gtg",
      "root_permlink": "hello-world",
      "max_accepted_payout": {
        "amount": "1000000000",
        "precision": 3,
        "nai": "@@000000013"
      },
      "percent_steem_dollars": 10000,
      "allow_replies": true,
      "allow_votes": true,
      "allow_curation_rewards": true,
      "beneficiaries": []
    },
    {
      "id": 693873,
      "author": "gtg",
      "permlink": "missing-rewards-while-mining",
      "category": "mining",
      "parent_author": "",
      "parent_permlink": "mining",
      "title": "Missing rewards while mining - common mistake with keys",
      "body": "Suppose your miner node found `pow2`, but your `total_missed` count increased, instead of generating a block.\n\nIf this happens, double check your keys used in the `config.ini` file.\n\n```\nwitness = \"minerwitness\"\n\nminer = [\"minerwitness\",\"WIF_ACTIVE_PRIVATE_KEY\"]\nminer = [\"miner1\",\"WIF_ACTIVE_PRIVATE_KEY\"]\nminer = [\"miner2\",\"WIF_ACTIVE_PRIVATE_KEY\"]\nminer = [\"miner3\",\"WIF_ACTIVE_PRIVATE_KEY\"]\n\nmining-threads = 4\n\nprivate-key = WIF_SIGNING_PRIVATE_KEY\n```\n\nUsing keys without paying attention to their roles is a common mistake. @artakan [found out](https://steemit.com/mining/@artakan/important-info-for-steem-miner-do-not-use-your-steemit-com-account \"@artakan - Do not use your steemit.com account for mining\")\nthat issues with missing blocks tend to happen when you are using an account that was created through [steemit.com](https://steemit.com/ \"Blogging is the new mining\") but seems to work for the mined account.\n\nSo erroneous configuration might work for your mined account by pure coincidence. In other words, the same key has been defined for all roles, so:  `WIF_ACTIVE_PRIVATE_KEY` is exactly the same as `WIF_SIGNING_PRIVATE_KEY`.\n\n![witness](https://grey.house/img/witness2.jpg)\n\nIf you believe this idea is of use and value to Steem, please vote for me as a [witness](https://steemit.com/witness-category/@gtg/witness-gtg \"witness-gtg\")\neither on [Steemit's Witnesses List](https://steemit.com/~witnesses \"Witnesses\") \nor by using your `cli_wallet` command:\n`vote_for_witness \"YOURACCOUNT\" \"gtg\" true true`",
      "json_metadata": "{\"tags\":[\"mining\",\"steem\",\"steem-mining\"],\"users\":[\"artakan\"],\"links\":[\"https://steemit.com/mining/@artakan/important-info-for-steem-miner-do-not-use-your-steemit-com-account\"]}",
      "last_update": "2016-08-21T13:02:30",
      "created": "2016-08-21T12:29:18",
      "active": "2016-08-27T18:39:45",
      "last_payout": "2016-08-22T13:01:45",
      "depth": 0,
      "children": 6,
      "net_rshares": 0,
      "abs_rshares": 0,
      "vote_rshares": 0,
      "children_abs_rshares": 0,
      "cashout_time": "2016-09-21T13:01:45",
      "max_cashout_time": "1969-12-31T23:59:59",
      "total_vote_weight": 0,
      "reward_weight": 10000,
      "total_payout_value": {
        "amount": "353",
        "precision": 3,
        "nai": "@@000000013"
      },
      "curator_payout_value": {
        "amount": "79",
        "precision": 3,
        "nai": "@@000000013"
      },
      "author_rewards": 241,
      "net_votes": 26,
      "root_author": "gtg",
      "root_permlink": "missing-rewards-while-mining",
      "max_accepted_payout": {
        "amount": "1000000000",
        "precision": 3,
        "nai": "@@000000013"
      },
      "percent_steem_dollars": 10000,
      "allow_replies": true,
      "allow_votes": true,
      "allow_curation_rewards": true,
      "beneficiaries": []
    },
    {
      "id": 817048,
      "author": "gtg",
      "permlink": "re-amcq-hello-steemit-i-m-alex-a-new-member-of-the-steemit-team-20160831t205719836z",
      "category": "introduceyourself",
      "parent_author": "amcq",
      "parent_permlink": "hello-steemit-i-m-alex-a-new-member-of-the-steemit-team",
      "title": "",
      "body": "Hello Alex, welcome to steemit! :-)",
      "json_metadata": "{\"tags\":[\"introduceyourself\"]}",
      "last_update": "2016-08-31T20:57:24",
      "created": "2016-08-31T20:57:24",
      "active": "2016-08-31T20:57:24",
      "last_payout": "2016-09-01T19:22:30",
      "depth": 1,
      "children": 0,
      "net_rshares": 0,
      "abs_rshares": 0,
      "vote_rshares": 0,
      "children_abs_rshares": 0,
      "cashout_time": "1969-12-31T23:59:59",
      "max_cashout_time": "1969-12-31T23:59:59",
      "total_vote_weight": 0,
      "reward_weight": 10000,
      "total_payout_value": {
        "amount": "0",
        "precision": 3,
        "nai": "@@000000013"
      },
      "curator_payout_value": {
        "amount": "0",
        "precision": 3,
        "nai": "@@000000013"
      },
      "author_rewards": 0,
      "net_votes": 0,
      "root_author": "amcq",
      "root_permlink": "hello-steemit-i-m-alex-a-new-member-of-the-steemit-team",
      "max_accepted_payout": {
        "amount": "1000000000",
        "precision": 3,
        "nai": "@@000000013"
      },
      "percent_steem_dollars": 10000,
      "allow_replies": true,
      "allow_votes": true,
      "allow_curation_rewards": true,
      "beneficiaries": []
    },
    {
      "id": 758424,
      "author": "gtg",
      "permlink": "re-ania-hello-world-20160826t185305711z",
      "category": "introduceyourself",
      "parent_author": "ania",
      "parent_permlink": "hello-world",
      "title": "",
      "body": "Hello Ania, welcome to steemit! :-)",
      "json_metadata": "{\"tags\":[\"introduceyourself\"]}",
      "last_update": "2016-08-26T18:53:09",
      "created": "2016-08-26T18:53:09",
      "active": "2016-08-26T21:16:45",
      "last_payout": "2016-08-27T21:18:18",
      "depth": 1,
      "children": 1,
      "net_rshares": 1067633479,
      "abs_rshares": 1067633479,
      "vote_rshares": 1067633479,
      "children_abs_rshares": 0,
      "cashout_time": "1969-12-31T23:59:59",
      "max_cashout_time": "1969-12-31T23:59:59",
      "total_vote_weight": 0,
      "reward_weight": 10000,
      "total_payout_value": {
        "amount": "0",
        "precision": 3,
        "nai": "@@000000013"
      },
      "curator_payout_value": {
        "amount": "0",
        "precision": 3,
        "nai": "@@000000013"
      },
      "author_rewards": 0,
      "net_votes": 2,
      "root_author": "ania",
      "root_permlink": "hello-world",
      "max_accepted_payout": {
        "amount": "1000000000",
        "precision": 3,
        "nai": "@@000000013"
      },
      "percent_steem_dollars": 10000,
      "allow_replies": true,
      "allow_votes": true,
      "allow_curation_rewards": true,
      "beneficiaries": []
    },
    {
      "id": 958255,
      "author": "gtg",
      "permlink": "re-arcange-re-gtg-re-arcange-re-gtg-re-arcange-steemsql-com-a-deep-analysis-of-steemians-gratefulness-20160915t141107191z",
      "category": "stats",
      "parent_author": "arcange",
      "parent_permlink": "re-gtg-re-arcange-re-gtg-re-arcange-steemsql-com-a-deep-analysis-of-steemians-gratefulness-20160915t132416244z",
      "title": "",
      "body": "True, as well as encouraging others to try to do the same :-)",
      "json_metadata": "{\"tags\":[\"stats\"]}",
      "last_update": "2016-09-15T14:11:09",
      "created": "2016-09-15T14:11:09",
      "active": "2016-09-15T14:11:09",
      "last_payout": "1970-01-01T00:00:00",
      "depth": 5,
      "children": 0,
      "net_rshares": 0,
      "abs_rshares": 0,
      "vote_rshares": 0,
      "children_abs_rshares": 0,
      "cashout_time": "1969-12-31T23:59:59",
      "max_cashout_time": "1969-12-31T23:59:59",
      "total_vote_weight": 0,
      "reward_weight": 10000,
      "total_payout_value": {
        "amount": "0",
        "precision": 3,
        "nai": "@@000000013"
      },
      "curator_payout_value": {
        "amount": "0",
        "precision": 3,
        "nai": "@@000000013"
      },
      "author_rewards": 0,
      "net_votes": 0,
      "root_author": "arcange",
      "root_permlink": "steemsql-com-a-deep-analysis-of-steemians-gratefulness",
      "max_accepted_payout": {
        "amount": "1000000000",
        "precision": 3,
        "nai": "@@000000013"
      },
      "percent_steem_dollars": 10000,
      "allow_replies": true,
      "allow_votes": true,
      "allow_curation_rewards": true,
      "beneficiaries": []
    },
    {
      "id": 957804,
      "author": "gtg",
      "permlink": "re-arcange-re-gtg-re-arcange-steemsql-com-a-deep-analysis-of-steemians-gratefulness-20160915t131924290z",
      "category": "stats",
      "parent_author": "arcange",
      "parent_permlink": "re-gtg-re-arcange-steemsql-com-a-deep-analysis-of-steemians-gratefulness-20160915t130619700z",
      "title": "",
      "body": "I noticed that just after writing a comment (when went back to continue reading ... ) ___Thank you___ for pointing out. :-)",
      "json_metadata": "{\"tags\":[\"stats\"]}",
      "last_update": "2016-09-15T13:19:24",
      "created": "2016-09-15T13:19:24",
      "active": "2016-09-15T14:11:09",
      "last_payout": "1970-01-01T00:00:00",
      "depth": 3,
      "children": 2,
      "net_rshares": 0,
      "abs_rshares": 0,
      "vote_rshares": 0,
      "children_abs_rshares": 0,
      "cashout_time": "1969-12-31T23:59:59",
      "max_cashout_time": "1969-12-31T23:59:59",
      "total_vote_weight": 0,
      "reward_weight": 10000,
      "total_payout_value": {
        "amount": "0",
        "precision": 3,
        "nai": "@@000000013"
      },
      "curator_payout_value": {
        "amount": "0",
        "precision": 3,
        "nai": "@@000000013"
      },
      "author_rewards": 0,
      "net_votes": 0,
      "root_author": "arcange",
      "root_permlink": "steemsql-com-a-deep-analysis-of-steemians-gratefulness",
      "max_accepted_payout": {
        "amount": "1000000000",
        "precision": 3,
        "nai": "@@000000013"
      },
      "percent_steem_dollars": 10000,
      "allow_replies": true,
      "allow_votes": true,
      "allow_curation_rewards": true,
      "beneficiaries": []
    },
    {
      "id": 957696,
      "author": "gtg",
      "permlink": "re-arcange-steemsql-com-a-deep-analysis-of-steemians-gratefulness-20160915t130410195z",
      "category": "stats",
      "parent_author": "arcange",
      "parent_permlink": "steemsql-com-a-deep-analysis-of-steemians-gratefulness",
      "title": "",
      "body": "@arcange, please do not underestimate ___\"Thank you\"___ while searching for ___\"Thanks\"___ ;-)\n\nThank you,\n[Gandalf](https://steemit.com/@gtg) (\"gtg\")",
      "json_metadata": "{\"tags\":[\"stats\"],\"users\":[\"arcange\"],\"links\":[\"https://steemit.com/@gtg\"]}",
      "last_update": "2016-09-15T13:08:12",
      "created": "2016-09-15T13:04:12",
      "active": "2016-09-15T14:11:09",
      "last_payout": "1970-01-01T00:00:00",
      "depth": 1,
      "children": 4,
      "net_rshares": 0,
      "abs_rshares": 0,
      "vote_rshares": 0,
      "children_abs_rshares": 0,
      "cashout_time": "1969-12-31T23:59:59",
      "max_cashout_time": "1969-12-31T23:59:59",
      "total_vote_weight": 0,
      "reward_weight": 10000,
      "total_payout_value": {
        "amount": "0",
        "precision": 3,
        "nai": "@@000000013"
      },
      "curator_payout_value": {
        "amount": "0",
        "precision": 3,
        "nai": "@@000000013"
      },
      "author_rewards": 0,
      "net_votes": 0,
      "root_author": "arcange",
      "root_permlink": "steemsql-com-a-deep-analysis-of-steemians-gratefulness",
      "max_accepted_payout": {
        "amount": "1000000000",
        "precision": 3,
        "nai": "@@000000013"
      },
      "percent_steem_dollars": 10000,
      "allow_replies": true,
      "allow_votes": true,
      "allow_curation_rewards": true,
      "beneficiaries": []
    },
    {
      "id": 693917,
      "author": "gtg",
      "permlink": "re-artakan-important-info-for-steem-miner-do-not-use-your-steemit-com-account-20160821t123356072z",
      "category": "mining",
      "parent_author": "artakan",
      "parent_permlink": "important-info-for-steem-miner-do-not-use-your-steemit-com-account",
      "title": "",
      "body": "There's nothing wrong with mining using your _\"steemit.com account\"_. It's **all about your keys** and using **proper miner configuration**. I tried to explain common mistake https://steemit.com/mining/@gtg/missing-rewards-while-mining",
      "json_metadata": "{\"tags\":[\"mining\"],\"links\":[\"https://steemit.com/mining/@gtg/missing-rewards-while-mining\"]}",
      "last_update": "2016-08-21T12:33:57",
      "created": "2016-08-21T12:33:57",
      "active": "2016-08-21T12:33:57",
      "last_payout": "2016-08-22T10:51:00",
      "depth": 1,
      "children": 0,
      "net_rshares": 0,
      "abs_rshares": 0,
      "vote_rshares": 0,
      "children_abs_rshares": 0,
      "cashout_time": "1969-12-31T23:59:59",
      "max_cashout_time": "1969-12-31T23:59:59",
      "total_vote_weight": 0,
      "reward_weight": 10000,
      "total_payout_value": {
        "amount": "39",
        "precision": 3,
        "nai": "@@000000013"
      },
      "curator_payout_value": {
        "amount": "0",
        "precision": 3,
        "nai": "@@000000013"
      },
      "author_rewards": 27,
      "net_votes": 3,
      "root_author": "artakan",
      "root_permlink": "important-info-for-steem-miner-do-not-use-your-steemit-com-account",
      "max_accepted_payout": {
        "amount": "1000000000",
        "precision": 3,
        "nai": "@@000000013"
      },
      "percent_steem_dollars": 10000,
      "allow_replies": true,
      "allow_votes": true,
      "allow_curation_rewards": true,
      "beneficiaries": []
    },
    {
      "id": 792758,
      "author": "gtg",
      "permlink": "re-artywah-self-proclaimed-geek-and-digital-ancient-in-melbourne-australia-20160829t191915549z",
      "category": "introduceyourself",
      "parent_author": "artywah",
      "parent_permlink": "self-proclaimed-geek-and-digital-ancient-in-melbourne-australia",
      "title": "",
      "body": "Hello @artywah, welcome to steemit! :-)\nHint: Adding a picture to your post could make it more appealing.\n( I used my cat for that ;-) )",
      "json_metadata": "{\"tags\":[\"introduceyourself\"],\"users\":[\"artywah\"]}",
      "last_update": "2016-08-29T19:19:18",
      "created": "2016-08-29T19:19:18",
      "active": "2016-08-29T19:19:18",
      "last_payout": "2016-08-30T18:28:06",
      "depth": 1,
      "children": 0,
      "net_rshares": 0,
      "abs_rshares": 0,
      "vote_rshares": 0,
      "children_abs_rshares": 0,
      "cashout_time": "1969-12-31T23:59:59",
      "max_cashout_time": "1969-12-31T23:59:59",
      "total_vote_weight": 0,
      "reward_weight": 10000,
      "total_payout_value": {
        "amount": "0",
        "precision": 3,
        "nai": "@@000000013"
      },
      "curator_payout_value": {
        "amount": "0",
        "precision": 3,
        "nai": "@@000000013"
      },
      "author_rewards": 0,
      "net_votes": 0,
      "root_author": "artywah",
      "root_permlink": "self-proclaimed-geek-and-digital-ancient-in-melbourne-australia",
      "max_accepted_payout": {
        "amount": "1000000000",
        "precision": 3,
        "nai": "@@000000013"
      },
      "percent_steem_dollars": 10000,
      "allow_replies": true,
      "allow_votes": true,
      "allow_curation_rewards": true,
      "beneficiaries": []
    }
  ]
}