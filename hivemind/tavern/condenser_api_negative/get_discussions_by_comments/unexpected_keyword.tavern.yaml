---
  test_name: Hivemind condenser_api.get_discussions_by_comments unexpected keyword patterns test

  marks:
    - patterntest
    - negative
    - failing
    - xfail # while this would be acceptable we should change it to invalid parameters over server error (code suggests we wanted to completely silence that, but rest passes is as generic error, old code was the same so...)

  includes:
    - !include ../../common.yaml

  stages:
    - name: get_discussions_by_comments unexpected keyword 
      request:
        url: "{service.proto:s}://{service.server:s}:{service.port}/"
        method: POST
        headers:
          content-type: application/json
        json:
          jsonrpc: "2.0"
          id: 1
          method: "condenser_api.get_discussions_by_comments"
          params: [{"author": "steemit"}]
      response:
        status_code: 200
        verify_response_with:
          function: validate_response:compare_response_with_pattern
          extra_kwargs:
            method: "unexpected_keyword"
            directory: "condenser_api_negative/get_discussions_by_comments"
            error_response: true